<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Qu·∫£n l√Ω d·ªãch v·ª•</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/dichvu.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Custom CSS -->
    <style>
      
    </style>
</head>
<body>
    <header class="header">
        <div class="menu-toggle">‚ò∞</div>
        <div class="header-title">Nh√† tr·ªç C·∫ßn Th∆°</div>
    </header>

    <div class="sidebar">
        <div class="logo_content">
            <div class="logo">
                <div class="icon">
                    <img src="https://via.placeholder.com/50" alt="Logo">
                </div>
                <div class="logo_name">Xin ch√†o, admin</div>
            </div>
        </div>

        <ul class="nav_list">
            <li>
                <a href="#">
                    <span class="icon">üè†</span>
                    <span class="link_name">Trang ch·ªß</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span class="icon">üßë‚Äçüíº</span>
                    <span class="link_name">Qu·∫£n l√Ω kh√°ch h√†ng</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span class="icon">üí∞</span>
                    <span class="link_name">Doanh thu</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span class="icon">üí°</span>
                    <span class="link_name">D·ªãch v·ª•</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span class="icon">üßæ</span>
                    <span class="link_name">H√≥a ƒë∆°n</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span class="icon">üìÇ</span>
                    <span class="link_name">Qu·∫£n l√Ω h·ª£p ƒë·ªìng</span>
                </a>
            </li>
            <li>
                <a href="#" class="logout-link">
                    <span class="icon"><i class="fas fa-sign-out-alt"></i></span>
                    <span class="link_name">ƒêƒÉng Xu·∫•t</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="content flex-grow-1 p-4">
        <div class="topbar d-flex justify-content-between align-items-center mb-4"></div>

        <!-- Qu·∫£n l√Ω ƒëi·ªán n∆∞·ªõc -->
        <div class="container">
            <div class="cf-title-03">
                <h3>Qu·∫£n l√Ω ƒëi·ªán n∆∞·ªõc</h3>
            </div>
            <div id="product-list">
                <!-- D·ªØ li·ªáu tƒ©nh thay v√¨ t·ª´ database -->
                <div class="product">
                    <input type="text" value="ƒêi·ªán" placeholder="T√™n s·∫£n ph·∫©m" readonly>
                    <input type="number" value="100000" placeholder="Gi√° c≈© (VNƒê)" readonly class="old-price" step="1">
                    <input type="number" value="" placeholder="Nh·∫≠p gi√° m·ªõi (VNƒê)" step="1" min="0">
                    <div class="btn-group">
                        <button class="update-btn" onclick="updateProduct(this)">C·∫≠p nh·∫≠t</button>
                    </div>
                </div>
                <div class="product">
                    <input type="text" value="N∆∞·ªõc" placeholder="T√™n s·∫£n ph·∫©m" readonly>
                    <input type="number" value="80000" placeholder="Gi√° c≈© (VNƒê)" readonly class="old-price" step="1">
                    <input type="number" value="" placeholder="Nh·∫≠p gi√° m·ªõi (VNƒê)" step="1" min="0">
                    <div class="btn-group">
                        <button class="update-btn" onclick="updateProduct(this)">C·∫≠p nh·∫≠t</button>
                    </div>
                </div>
            </div>
        </div><br>

        <!-- Qu·∫£n l√Ω d·ªãch v·ª• -->
        <div class="container">
            <div class="cf-title-03">
                <h3>Qu·∫£n l√Ω d·ªãch v·ª•</h3>
            </div>
            <div id="service-list">
                <!-- D·ªØ li·ªáu tƒ©nh thay v√¨ t·ª´ database -->
                <div class="service">
                    <input type="text" value="B√≥ng ƒë√®n LED" placeholder="T√™n s·∫£n ph·∫©m" readonly class="product-name">
                    <input type="number" value="60000" placeholder="Gi√° c≈© (VNƒê)" readonly class="old-price" step="1">
                    <input type="number" value="50000" placeholder="Gi√° m·ªõi (VNƒê)" readonly class="new-price" step="1">
                    <div class="btn-group">
                        <button class="edit-btn" onclick="editService(this, 1)">Ch·ªânh S·ª≠a</button>
                        <button class="delete-btn" onclick="deleteService(this, 1)">X√≥a</button>
                    </div>
                </div>
                <div class="service">
                    <input type="text" value="V√≤i n∆∞·ªõc inox" placeholder="T√™n s·∫£n ph·∫©m" readonly class="product-name">
                    <input type="number" value="150000" placeholder="Gi√° c≈© (VNƒê)" readonly class="old-price" step="1">
                    <input type="number" value="120000" placeholder="Gi√° m·ªõi (VNƒê)" readonly class="new-price" step="1">
                    <div class="btn-group">
                        <button class="edit-btn" onclick="editService(this, 2)">Ch·ªânh S·ª≠a</button>
                        <button class="delete-btn" onclick="deleteService(this, 2)">X√≥a</button>
                    </div>
                </div>
            </div>



            
            <button class="add-btn" onclick="addServiceForm()">‚ûï Th√™m d·ªãch v·ª•</button>
            <div class="cf-title-01">
                <h6>T·ªîNG: <span id="total-price">0</span></h6>
            </div>

     
    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

    <script>
        const toggle = document.querySelector('.menu-toggle');
        const sidebar = document.querySelector('.sidebar');
        toggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });

        // Show form to add a new service
        function addServiceForm() {
            document.getElementById('form-title').textContent = 'Th√™m D·ªãch V·ª• M·ªõi';
            document.getElementById('ten-dich-vu').value = '';
            document.getElementById('gia-dich-vu').value = '';
            document.getElementById('service-form').style.display = 'block';
            
            setTimeout(() => {
                document.getElementById('ten-dich-vu').focus();
            }, 100);
        }

        // Hide the service form
        function hideServiceForm() {
            document.getElementById('service-form').style.display = 'none';
        }

        // Save service (frontend only)
        function saveService() {
            const name = document.getElementById('ten-dich-vu').value.trim();
            const price = document.getElementById('gia-dich-vu').value.trim();

            if (name === "" || price === "") {
                alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
                return;
            }

            const serviceList = document.getElementById('service-list');
            const newService = document.createElement('div');
            newService.className = 'service';
            newService.innerHTML = `
                <input type="text" value="${name}" placeholder="T√™n s·∫£n ph·∫©m" readonly class="product-name">
                <input type="number" value="0" placeholder="Gi√° c≈© (VNƒê)" readonly class="old-price" step="1">
                <input type="number" value="${price}" placeholder="Gi√° m·ªõi (VNƒê)" readonly class="new-price" step="1">
                <div class="btn-group">
                    <button class="edit-btn" onclick="editService(this, ${Date.now()})">Ch·ªânh S·ª≠a</button>
                    <button class="delete-btn" onclick="deleteService(this, ${Date.now()})">X√≥a</button>
                </div>
            `;
            serviceList.appendChild(newService);
            hideServiceForm();
            calculateTotal();
            alert(`ƒê√£ th√™m d·ªãch v·ª•: ${name} - ${price} VND`);
        }

        // Add keyboard navigation for form fields
        document.addEventListener('DOMContentLoaded', function() {
            const nameInput = document.querySelector('input[name="ten_dich_vu"]');
            if (nameInput) {
                nameInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape') {
                        hideServiceForm();
                    }
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        document.getElementById('gia-dich-vu').focus();
                    }
                });
            }

            const priceInput = document.querySelector('input[name="gia_dich_vu"]');
            if (priceInput) {
                priceInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape') {
                        hideServiceForm();
                    }
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        saveService();
                    }
                });
            }

            calculateTotal();
        });

        // Calculate the total price of services
        function calculateTotal() {
            const newPriceInputs = document.querySelectorAll('.new-price');
            let total = 0;

            newPriceInputs.forEach(input => {
                const price = parseFloat(input.value) || 0;
                total += price;
            });

            document.getElementById('total-price').textContent = total.toLocaleString('vi-VN') + ' VND';
        }

        function updateProduct(button) {
            let productDiv = button.closest(".product");
            let inputs = productDiv.querySelectorAll("input");
            
            if (button.innerText === "C·∫≠p nh·∫≠t") {
                let name = inputs[0].value.trim();
                let newPrice = inputs[2].value.trim();
                
                if (name === "" || newPrice === "") {
                    alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
                    return;
                }
                
                if (confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën c·∫≠p nh·∫≠t gi√° ${name} th√†nh ${newPrice} VND?`)) {
                    inputs[1].value = newPrice; // C·∫≠p nh·∫≠t gi√° c≈©
                    inputs[2].value = ''; // Reset gi√° m·ªõi
                    alert(`ƒê√£ c·∫≠p nh·∫≠t gi√° ${name} th√†nh ${newPrice} VND`);
                }
            } else {
                inputs[2].removeAttribute("readonly");
                button.innerText = "C·∫≠p nh·∫≠t";
                button.classList.remove("edi-btn");
                button.classList.add("update-btn");
                inputs[2].focus();
            }
        }

        // Show form to edit existing service
        function editService(button, serviceId) {
            const serviceDiv = button.closest('.service');
            const inputs = serviceDiv.querySelectorAll('input');
            const name = inputs[0].value;
            const currentPrice = inputs[2].value;

            document.getElementById('form-title').textContent = 'C·∫≠p Nh·∫≠t D·ªãch V·ª•';
            document.getElementById('ten-dich-vu').value = name;
            document.getElementById('gia-dich-vu').value = currentPrice;
            document.getElementById('service-form').style.display = 'block';

            setTimeout(() => {
                const priceInput = document.getElementById('gia-dich-vu');
                priceInput.focus();
            }, 100);

            // Override saveService for editing
            document.querySelector('#service-form .btn-primary').onclick = function() {
                const newName = document.getElementById('ten-dich-vu').value.trim();
                const newPrice = document.getElementById('gia-dich-vu').value.trim();

                if (newName === "" || newPrice === "") {
                    alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
                    return;
                }

                inputs[0].value = newName;
                inputs[1].value = currentPrice; // Gi√° c≈©
                inputs[2].value = newPrice; // Gi√° m·ªõi
                hideServiceForm();
                calculateTotal();
                alert(`ƒê√£ c·∫≠p nh·∫≠t d·ªãch v·ª•: ${newName} - ${newPrice} VND`);
            };
        }

        // Delete a service
        function deleteService(button, serviceId) {
            if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a d·ªãch v·ª• n√†y?")) {
                button.closest('.service').remove();
                calculateTotal();
                alert("ƒê√£ x√≥a d·ªãch v·ª•!");
            }
        }
    </script>
</body>
</html>